<?xml version="1.0" encoding="UTF-8"?>
<mappermodel:MapperProject xmlns:mappermodel="http://www.fiorano.com/tools/mapper/mappermodel" convertor="nameIndexed" version="3.0.2">
  <mappermodel:Comments>Key in relevant comments</mappermodel:Comments>
  <mappermodel:InputStructure>
    <mappermodel:Structure duplicates="" filePath="Application-Context.DTD" mime="DTD" name="Application-Context" rootName="Context"/>
    <mappermodel:Structure duplicates="" filePath="IN_PORT.XSD" mime="XSD" name="IN_PORT" rootName="{urn:swift:xsd:mtmsg.2020}FinMessage">
      <mappermodel:ExternalStructure filePath="IN_PORT_ext.XSD" mime="XSD" name="urn:swift:xsd:fin.103.2020"/>
    </mappermodel:Structure>
  </mappermodel:InputStructure>
  <mappermodel:OutputStructure>
    <mappermodel:Structure duplicates="" filePath="Output1.XSD" mime="XSD" name="Output1" rootName="{urn:swift:xsd:envelope}Envelope">
      <mappermodel:ExternalStructure filePath="new1.xsd" name="urn:iso:std:iso:20022:tech:xsd:head.001.001.01"/>
      <mappermodel:ExternalStructure filePath="new2.xsd" name="urn:iso:std:iso:20022:tech:xsd:pacs.004.001.09"/>
    </mappermodel:Structure>
  </mappermodel:OutputStructure>
  <mappermodel:Mappings>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlUETR:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block3:0,F121:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,CreDtTm:0" x="575" y="60">
      <mappermodel:FunctionGraphNode label="9999-12-31T00:00:00+00:00" type="22" x="288" y="94">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,NbOfTxs:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="1" type="22" x="227" y="72">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,SttlmInf:0,SttlmMtd:0" x="536" y="57">
      <mappermodel:FunctionGraphNode label="CLRG" type="22" x="228" y="104">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2,3" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0" x="1221" y="273">
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="277" y="20">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//CH" type="22" x="20" y="146">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="738" y="141">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="531" y="154">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//FW" type="22" x="20" y="82">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="531" y="20">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//" type="22" x="277" y="90">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="1042" y="27">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="277" y="154">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="785" y="20">
        <mappermodel:InputPins>1,2,3,4,5</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="531" y="90">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//RT" type="22" x="20" y="210">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="277" y="224">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="531" y="218">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56A:0,PartyIdentifier:0" x="20" y="20">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="389" y="372">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56D:0,PartyIdentifier:0" x="88" y="427">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="878" y="353">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//" type="22" x="87" y="330">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="415" y="429">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="584" y="356">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="385" y="322">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="723" y="327">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="8" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="2" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="1" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="1" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="3" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="21" inputIndex="0" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="23" inputIndex="0" outputID="22" outputIndex="0"/>
      <mappermodel:Link inputID="23" inputIndex="1" outputID="21" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="0" outputID="23" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="1" outputID="20" outputIndex="0"/>
      <mappermodel:Link inputID="22" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="20" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="22" inputIndex="1" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="1" outputID="18" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,Nm:0" x="657" y="137">
      <mappermodel:FunctionGraphNode label="SubString-Before" type="23" x="463" y="68">
        <mappermodel:InputPins>str,before</mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="\n" type="22" x="274" y="89">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:F56D_NameAndAddress" type="160" x="208" y="41">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2,3" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0" x="1266" y="38">
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="377" y="71">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//CH" type="22" x="219" y="93">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="585" y="44">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//FW" type="22" x="230" y="156">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="406" y="141">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//RT" type="22" x="389" y="265">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="259" y="11">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="531" y="224">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//" type="22" x="54" y="135">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="785" y="20">
        <mappermodel:InputPins>1,2,3,4,5</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="761" y="135">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="967" y="22">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F57a:0,[Choice]:0,F57A:0,PartyIdentifier:0" x="2" y="54">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="649" y="427">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="454" y="482">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="229" y="477">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="372" y="421">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="961" y="446">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F57a:0,[Choice]:0,F57D:0,PartyIdentifier:0" x="99" y="403">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="385" y="529">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="590" y="84">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="597" y="189">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="12" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="12" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="1" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="1" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="1" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="1" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="1" outputID="20" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="0" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="20" inputIndex="0" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="1" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="1" outputID="18" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="21" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="2" outputID="21" outputIndex="0"/>
      <mappermodel:Link inputID="22" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="3" outputID="22" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,Nm:0" x="680" y="94">
      <mappermodel:FunctionGraphNode label="\n" type="22" x="234" y="117">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="SubString-Before" type="23" x="423" y="96">
        <mappermodel:InputPins>str,before</mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:F57D_NameAndAddress" type="160" x="168" y="69">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,MsgId:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F20a:0,[Choice]:0,F20:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,XchgRate:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F36a:0,[Choice]:0,F36:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,ChrgBr:0" x="793" y="32">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F71a_1:0,[Choice]:0,F71A:0" x="87" y="21">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="CRED" type="22" x="381" y="54">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="576" y="26">
        <mappermodel:InputPins>bool,then,bool,then,bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="SHAR" type="22" x="335" y="181">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="OUR" type="22" x="125" y="100">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BEN" type="22" x="150" y="59">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="SHA" type="22" x="143" y="153">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="SHAR" type="22" x="390" y="109">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="=" type="31" x="317" y="21">
        <mappermodel:InputPins>1,2</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="=" type="31" x="326" y="80">
        <mappermodel:InputPins>1,2</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="=" type="31" x="374" y="142">
        <mappermodel:InputPins>1,2</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="1" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="1" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="2" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="3" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="4" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="1" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="5" outputID="4" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,[ZERO MANY]:0,ChrgsInf:0,Amt:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXAmount(java.lang.String arg1)" type="69" x="236" y="111">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F71a_3:0,[Choice]:0,F71G:0,Amount:0" x="86" y="38">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,[ZERO MANY]:0,ChrgsInf:0,Amt:0,Ccy:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F71a_3:0,[Choice]:0,F71G:0,Currency:0" x="80" y="67">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0,FinInstnId:0,BICFI:0" x="959" y="70">
      <mappermodel:FunctionGraphNode label="Variable:TSender" type="160" x="349" y="187">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="584" y="78">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52A:0,IdentifierCode:0" x="22" y="104">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="331" y="56">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(java.lang.String BIC)" type="69" x="111" y="136">
        <mappermodel:InputPins>BIC</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="3" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="1" outputID="5" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2,3" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0" x="1202" y="210">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="639" y="244">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//CH" type="22" x="77" y="113">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//" type="22" x="135" y="55">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="963" y="61">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="791" y="41">
        <mappermodel:InputPins>1,2,3,4</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="//FW" type="22" x="454" y="199">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="506" y="37">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="528" y="129">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="637" y="93">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="410" y="81">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="741" y="154">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52A:0,PartyIdentifier:0" x="157" y="240">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="459" y="355">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52D:0,PartyIdentifier:0" x="99" y="412">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="940" y="311">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String arg1)" type="69" x="462" y="407">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="681" y="361">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="457" y="306">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="782" y="288">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="4" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="1" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="2" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="1" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="19" inputIndex="0" outputID="18" outputIndex="0"/>
      <mappermodel:Link inputID="19" inputIndex="1" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="1" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="1" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="1" outputID="15" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0,FinInstnId:0,Nm:0" x="612" y="71">
      <mappermodel:FunctionGraphNode label="\n" type="22" x="202" y="132">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:F52D_NameAndAddress" type="160" x="156" y="52">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="SubString-Before" type="23" x="322" y="106">
        <mappermodel:InputPins>str,before</mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,BICFI:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56A:0,IdentifierCode:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(java.lang.String BIC)" type="69" x="146" y="104">
        <mappermodel:InputPins>BIC</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,BICFI:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="738" y="122">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="434" y="150">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F57a:0,[Choice]:0,F57A:0,IdentifierCode:0" x="142" y="177">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:TReceiver" type="160" x="290" y="261">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(java.lang.String BIC)" type="69" x="324" y="216">
        <mappermodel:InputPins>BIC</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="3" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="5" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlEndToEndId:0" x="2463" y="20">
      <mappermodel:FunctionGraphNode label="TREF" type="22" x="20" y="84">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:Appended72" type="160" x="20" y="20">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(java.lang.String MT72Field,java.lang.String Code,java.lang.String LineDelim,java.lang.String VarDeim)" type="69" x="285" y="20">
        <mappermodel:InputPins>MT72Field,Code,LineDelim,VarDeim</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:VarSeparator" type="160" x="20" y="212">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:LineSeparator" type="160" x="20" y="148">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOTPROVIDED" type="22" x="1995" y="154">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Length" type="21" x="1140" y="20">
        <mappermodel:InputPins>str</mappermodel:InputPins>
        <mappermodel:OutputPins>num</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="2218" y="20">
        <mappermodel:InputPins>bool,then,bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label=">" type="33" x="1995" y="20">
        <mappermodel:InputPins>1,2</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="0" type="22" x="1140" y="84">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:Appended72" type="160" x="285" y="120">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MREF" type="22" x="285" y="184">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:LineSeparator" type="160" x="285" y="248">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:VarSeparator" type="160" x="285" y="312">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(java.lang.String MT72Field,java.lang.String Code,java.lang.String LineDelim,java.lang.String VarDeim)" type="69" x="1140" y="148">
        <mappermodel:InputPins>MT72Field,Code,LineDelim,VarDeim</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Length" type="21" x="1995" y="90">
        <mappermodel:InputPins>str</mappermodel:InputPins>
        <mappermodel:OutputPins>num</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="2" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="3" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="1" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="1" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="2" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="3" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="2" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="3" outputID="6" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,AnyBIC:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50A:0,IdentifierCode:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,AnyBIC:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59A:0,IdentifierCode:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrdInstdAmt:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXAmount(java.lang.String arg1)" type="69" x="321" y="110">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F33a:0,[Choice]:0,F33B:0,Amount:0" x="126" y="109">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlGrpInf:0,OrgnlMsgId:0" x="994" y="129">
      <mappermodel:FunctionGraphNode label="MREF" type="22" x="115" y="29">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:LineSeparator" type="160" x="50" y="67">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(java.lang.String MT72Field,java.lang.String Code,java.lang.String LineDelim,java.lang.String VarDeim)" type="69" x="294" y="32">
        <mappermodel:InputPins>MT72Field,Code,LineDelim,VarDeim</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:Appended72" type="160" x="59" y="-21">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:VarSeparator" type="160" x="60" y="110">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="2" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="3" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlGrpInf:0,OrgnlMsgNmId:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="pacs.008.001.08" type="22" x="80" y="112">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrRsnInf:0,Rsn:0,[Choice]:0,Cd:0" x="1047" y="28">
      <mappermodel:FunctionGraphNode label="Variable:Appended72" type="160" x="120" y="37">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:VarSeparator" type="160" x="123" y="157">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Cd" type="22" x="156" y="76">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:LineSeparator" type="160" x="91" y="114">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXReturn72(java.lang.String MT72Field,java.lang.String Code,java.lang.String LineDelim,java.lang.String VarDelim)" type="69" x="426" y="65">
        <mappermodel:InputPins>MT72Field,Code,LineDelim,VarDelim</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="2" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="3" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="5" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrdInstdAmt:0,Ccy:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F33a:0,[Choice]:0,F33B:0,Currency:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,InstgAgt:0,FinInstnId:0,BICFI:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="Variable:TSender" type="160" x="124" y="102">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,InstdAgt:0,FinInstnId:0,BICFI:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="Variable:TReceiver" type="160" x="153" y="56">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,[ZERO MANY]:0,ChrgsInf:0,Agt:0,FinInstnId:0,BICFI:0" x="746" y="88">
      <mappermodel:FunctionGraphNode label="Variable:TReceiver" type="160" x="90" y="115">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F71a_3:0,[Choice]:0,F71G:0" x="78" y="27">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="244" y="18">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="431" y="19">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="4" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="4" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrId:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F20a:0,[Choice]:0,F20:0" x="-1" y="-1">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,[ZERO MANY]:0,Othr:0,Id:0" x="1037" y="107">
      <mappermodel:FunctionGraphNode label="NOTPROVIDED" type="22" x="778" y="309">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50F:0,PartyIdentifier:0" x="92" y="16">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="/" type="22" x="184" y="54">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="346" y="11">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="816" y="200">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="259" y="219">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50A:0,Account:0" x="104" y="179">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="223" y="392">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="467" y="156">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50K:0" x="126" y="307">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="297" y="349">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50K:0,Account:0" x="100" y="347">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="303" y="141">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="295" y="307">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="464" y="322">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="OR" type="37" x="635" y="186">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="303" y="184">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50A:0" x="120" y="141">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="0" outputID="18" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="0" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="1" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="1" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="5" inputIndex="0" outputID="16" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,[ZERO MANY]:0,Othr:0,SchmeNm:0,[Choice]:0,Cd:0" x="1184" y="114">
      <mappermodel:FunctionGraphNode label="TXID" type="22" x="713" y="278">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="StartsWith" type="49" x="407" y="20">
        <mappermodel:InputPins>str,start</mappermodel:InputPins>
        <mappermodel:OutputPins>bool</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50F:0,PartyIdentifier:0" x="110" y="16">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="880" y="179">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="/" type="22" x="221" y="60">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50K:0,Account:0" x="130" y="346">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="253" y="391">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="497" y="155">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50A:0,Account:0" x="134" y="178">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50K:0" x="156" y="306">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="333" y="183">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F50a:0,[Choice]:0,F50A:0" x="150" y="140">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="327" y="348">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="289" y="218">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="OR" type="37" x="665" y="185">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="494" y="321">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="333" y="140">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="325" y="306">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="1" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="14" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="18" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="1" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="18" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="1" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="15" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0,FinInstnId:0,PstlAdr:0,[ZERO MANY]:0,AdrLine:0" x="945" y="77">
      <mappermodel:FunctionGraphNode label="NOTPROVIDED" type="22" x="519" y="174">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="273" y="53">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="645" y="57">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="429" y="53">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52D:0,NameAndAddress:0,[ONE MANY]:0,Line:0" x="99" y="53">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52A:0" x="119" y="109">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="388" y="116">
        <mappermodel:InputPins>1,2,3,4</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="159" y="194">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="315" y="194">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F52a:0,[Choice]:0,F52D:0" x="124" y="285">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="305" y="285">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="8" inputIndex="0" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="1" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="2" outputID="11" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,PstlAdr:0,[ZERO MANY]:0,AdrLine:0" x="1283" y="102">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56A:0" x="114" y="231">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="442" y="232">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="299" y="184">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="553" y="87">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56C:0" x="110" y="175">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="946" y="108">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="397" y="87">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOTPROVIDED" type="22" x="803" y="207">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56D:0,NameAndAddress:0,[ONE MANY]:0,Line:0" x="147" y="71">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="629" y="169">
        <mappermodel:InputPins>1,2,3,4,5</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="443" y="183">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="290" y="230">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F56a:0,[Choice]:0,F56D:0" x="155" y="332">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="461" y="296">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="1" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="0" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="2" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="12" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="6" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="3" outputID="14" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,[ZERO MANY]:0,Othr:0,Id:0" x="1298" y="192">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59A:0" x="99" y="41">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="286" y="46">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOTPROVIDED" type="22" x="946" y="427">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="If-Then-Else" type="41" x="1071" y="296">
        <mappermodel:InputPins>bool,then,bool,else</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59F:0" x="87" y="83">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="OR" type="37" x="444" y="49">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="285" y="81">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59A:0" x="145" y="288">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="379" y="376">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="396" y="493">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="569" y="439">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59:0" x="156" y="561">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="340" y="451">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="OR" type="37" x="831" y="303">
        <mappermodel:InputPins>1,2,3,4</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="324" y="288">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="435" y="640">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="318" y="341">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59A:0,Account:0" x="116" y="342">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59F:0" x="150" y="414">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59:0,Account:0" x="133" y="598">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="384" y="561">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="533" y="317">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F59a:0,[Choice]:0,F59F:0,Account:0" x="133" y="450">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="NOT" type="39" x="379" y="598">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="AND" type="38" x="608" y="586">
        <mappermodel:InputPins>1,2,3</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="BOOL" type="42" x="345" y="414">
        <mappermodel:InputPins>1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="7" inputIndex="0" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="6" inputIndex="1" outputID="7" outputIndex="0"/>
      <mappermodel:Link inputID="15" inputIndex="0" outputID="8" outputIndex="0"/>
      <mappermodel:Link inputID="26" inputIndex="0" outputID="19" outputIndex="0"/>
      <mappermodel:Link inputID="13" inputIndex="0" outputID="23" outputIndex="0"/>
      <mappermodel:Link inputID="17" inputIndex="0" outputID="18" outputIndex="0"/>
      <mappermodel:Link inputID="10" inputIndex="0" outputID="13" outputIndex="0"/>
      <mappermodel:Link inputID="9" inputIndex="0" outputID="17" outputIndex="0"/>
      <mappermodel:Link inputID="22" inputIndex="0" outputID="15" outputIndex="0"/>
      <mappermodel:Link inputID="22" inputIndex="1" outputID="9" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="0" outputID="26" outputIndex="0"/>
      <mappermodel:Link inputID="11" inputIndex="1" outputID="10" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="0" outputID="22" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="1" outputID="11" outputIndex="0"/>
      <mappermodel:Link inputID="16" inputIndex="0" outputID="24" outputIndex="0"/>
      <mappermodel:Link inputID="25" inputIndex="0" outputID="21" outputIndex="0"/>
      <mappermodel:Link inputID="25" inputIndex="1" outputID="16" outputIndex="0"/>
      <mappermodel:Link inputID="21" inputIndex="0" outputID="12" outputIndex="0"/>
      <mappermodel:Link inputID="24" inputIndex="0" outputID="20" outputIndex="0"/>
      <mappermodel:Link inputID="14" inputIndex="2" outputID="25" outputIndex="0"/>
      <mappermodel:Link inputID="4" inputIndex="0" outputID="14" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlInstrId:0" x="1233" y="108">
      <mappermodel:FunctionGraphNode label="MREF" type="22" x="179" y="87">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:Appended72" type="160" x="123" y="37">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(java.lang.String MT72Field,java.lang.String Code,java.lang.String LineDelim,java.lang.String VarDeim)" type="69" x="358" y="90">
        <mappermodel:InputPins>MT72Field,Code,LineDelim,VarDeim</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:VarSeparator" type="160" x="124" y="168">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:LineSeparator" type="160" x="114" y="125">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="2" outputID="5" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="3" outputID="4" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0,Nm:0" x="1143" y="104">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="375" y="82">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtDbtr" type="160" x="66" y="41">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MXName" type="22" x="98" y="101">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0,PstlAdr:0,Ctry:0" x="1140" y="99">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="452" y="161">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtDbtr" type="160" x="143" y="120">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MXCountry" type="22" x="199" y="225">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0,PstlAdr:0,TwnNm:0" x="1218" y="53">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="551" y="167">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtDbtr" type="160" x="242" y="126">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MXTownName" type="22" x="218" y="187">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,[ZERO MANY]:0,Othr:0,Id:0" x="1134" y="71">
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="451" y="141">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtDbtr" type="160" x="142" y="100">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MXOther" type="22" x="229" y="203">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="1" inputIndex="1" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0,Nm:0" x="1061" y="88">
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtCdtr" type="160" x="117" y="104">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="426" y="145">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MXName" type="22" x="149" y="164">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="2" inputIndex="1" outputID="3" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0,PstlAdr:0,Ctry:0" x="772" y="63">
      <mappermodel:FunctionGraphNode label="MXCountry" type="22" x="142" y="175">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtCdtr" type="160" x="110" y="115">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="419" y="156">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0,PstlAdr:0,TwnNm:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="MXTownName" type="22" x="232" y="202">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtCdtr" type="160" x="200" y="142">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="509" y="183">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,[ZERO MANY]:0,Othr:0,Id:0" x="845" y="46">
      <mappermodel:FunctionGraphNode label="MXOther" type="22" x="186" y="172">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="Variable:AppendedUltmtCdtr" type="160" x="154" y="112">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String ultmtCdtrDbtr,java.lang.String Code)" type="69" x="463" y="153">
        <mappermodel:InputPins>ultmtCdtrDbtr,Code</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="3" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="3" inputIndex="1" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="3" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,SttlmInf:0,ClrSys:0,[Choice]:0,Cd:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="TGT" type="22" x="119" y="108">
        <mappermodel:InputPins></mappermodel:InputPins>
        <mappermodel:OutputPins>str</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,IntrBkSttlmDt:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Date:0" x="516" y="274">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXDate(java.lang.String arg1)" type="69" x="712" y="274">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrdIntrBkSttlmAmt:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Amount:0" x="393" y="193">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXAmount(java.lang.String arg1)" type="69" x="460" y="288">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrdIntrBkSttlmAmt:0,Ccy:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Currency:0" x="265" y="289">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
        <mappermodel:Properties>
          <mappermodel:Property>Relative</mappermodel:Property>
        </mappermodel:Properties>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlIntrBkSttlmAmt:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Amount:0" x="486" y="189">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:FunctionGraphNode label="MT2MX:com.fiorano.funclet.MTtoMX.mt2MXAmount(java.lang.String arg1)" type="69" x="553" y="284">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:Link inputID="2" inputIndex="0" outputID="1" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="2" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlIntrBkSttlmAmt:0,Ccy:0" x="-1" y="-1">
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Currency:0" x="469" y="176">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
        <mappermodel:Properties>
          <mappermodel:Property>Relative</mappermodel:Property>
        </mappermodel:Properties>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
    <mappermodel:GraphModel inputPins="1,2" outputNode="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,OrgnlIntrBkSttlmDt:0" x="-1" y="-1">
      <mappermodel:FunctionGraphNode label="MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXDate(java.lang.String arg1)" type="69" x="597" y="270">
        <mappermodel:InputPins>arg1</mappermodel:InputPins>
        <mappermodel:OutputPins>R</mappermodel:OutputPins>
        <mappermodel:Properties/>
      </mappermodel:FunctionGraphNode>
      <mappermodel:TreeGraphNode inputNode="IN_PORT:0,FinMessage:0,Block4:0,Document:0,MT103:0,F32a:0,[Choice]:0,F32A:0,Date:0" x="401" y="270">
        <mappermodel:InputPins>1st</mappermodel:InputPins>
        <mappermodel:OutputPins>1st</mappermodel:OutputPins>
      </mappermodel:TreeGraphNode>
      <mappermodel:Link inputID="1" inputIndex="0" outputID="2" outputIndex="0"/>
      <mappermodel:Link inputID="0" inputIndex="0" outputID="1" outputIndex="0"/>
    </mappermodel:GraphModel>
  </mappermodel:Mappings>
  <mappermodel:Extensions>
    <mappermodel:Extension language="java" name="MT2MX">
      <mappermodel:Script>com.fiorano.funclet.MTtoMX</mappermodel:Script>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.MT_To_MXReturn72(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="MT72Field"/>
        <mappermodel:Argument datatype="java.lang.String" name="Code"/>
        <mappermodel:Argument datatype="java.lang.String" name="LineDelim"/>
        <mappermodel:Argument datatype="java.lang.String" name="VarDelim"/>
      </mappermodel:Function>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(java.lang.String,java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="ultmtCdtrDbtr"/>
        <mappermodel:Argument datatype="java.lang.String" name="Code"/>
      </mappermodel:Function>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="MT72Field"/>
        <mappermodel:Argument datatype="java.lang.String" name="Code"/>
        <mappermodel:Argument datatype="java.lang.String" name="LineDelim"/>
        <mappermodel:Argument datatype="java.lang.String" name="VarDeim"/>
      </mappermodel:Function>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.generateBIC11(java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="BIC"/>
      </mappermodel:Function>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.mt2MXAmount(java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="arg1"/>
      </mappermodel:Function>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="arg1"/>
      </mappermodel:Function>
    </mappermodel:Extension>
    <mappermodel:Extension language="java" name="MTtoMX">
      <mappermodel:Script>com.fiorano.funclet.MTtoMX</mappermodel:Script>
      <mappermodel:Function name="public static java.lang.String com.fiorano.funclet.MTtoMX.MT_To_MXDate(java.lang.String)">
        <mappermodel:Argument datatype="java.lang.String" name="arg1"/>
      </mappermodel:Function>
    </mappermodel:Extension>
  </mappermodel:Extensions>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,SttlmTmIndctn:0,CdtDtTm:0">&lt;xsl:for-each select = &quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F13a/ns3:F13C&quot;> &#xD;
              &lt;xsl:choose>&#xD;
               &lt;xsl:when test=&quot;(ns3:Code)=('RNCTIME')&quot;>&#xD;
                &lt;xsl:value-of select=&quot;concat('0001-01-01T',substring(ns3:TimeIndication,1,2),':',substring(ns3:TimeIndication,3),':00',ns3:Sign,substring(ns3:TimeOffset,1,2),':',substring(ns3:TimeOffset,3))&quot;>&lt;/xsl:value-of>&#xD;
               &lt;/xsl:when>&#xD;
              &lt;/xsl:choose>&#xD;
&lt;/xsl:for-each></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,SttlmInf:0">&lt;xsl:variable name=&quot;METAFCT002&quot;>&#xD;
 &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.METAFCT002(&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53B),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53B/ns3:PartyIdentifier),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53B/ns3:Location),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53A),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53A/ns3:PartyIdentifier),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53A/ns3:IdentifierCode),&#xD;
 string($TSender),&#xD;
 string($TReceiver),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F53a/ns3:F53D),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a/ns3:F54A),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a/ns3:F54A/ns3:IdentifierCode),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a/ns3:F54A/ns3:PartyIdentifier),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a/ns3:F54B),&#xD;
 string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F54a/ns3:F54D),&#xD;
 string(null))&quot;>&lt;/xsl:value-of> &#xD;
 &#xD;
 &lt;/xsl:variable>&#xD;
 &lt;xsl:variable name=&quot;SettlementMethod&quot;>&#xD;
 &lt;xsl:value-of select=&quot;substring-before($METAFCT002, ':::')&quot;/>&#xD;
 &lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;settlemtAccount&quot;>&#xD;
 &lt;xsl:value-of select=&quot;substring-before(substring-after($METAFCT002, ':::'),':::') &quot;/>&#xD;
 &lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;InstructionForNextAgent53&quot;>&#xD;
 &lt;xsl:value-of select=&quot;substring-before(substring-after(substring-after($METAFCT002, ':::'), ':::'),':::') &quot;/>&#xD;
 &lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;InstructionForNextAgent54&quot;>&#xD;
 &lt;xsl:value-of select=&quot;substring-after(substring-after(substring-after($METAFCT002, ':::'), ':::'),':::') &quot;/>&#xD;
 &lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0">&lt;xsl:variable name=&quot;F56D_NameAndAddress&quot;> &#xD;
 &lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56D/ns3:NameAndAddress/ns3:Line&quot;> &#xD;
 &lt;xsl:value-of select=&quot;concat(text(),'\n')&quot;>&lt;/xsl:value-of>&#xD;
	&lt;/xsl:for-each>&#xD;
	 &lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,PstlAdr:0">&lt;xsl:call-template name=&quot;Address_Template&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($F56D_NameAndAddress, '\n')&quot;/>&#xD;
                &lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0">&lt;xsl:variable name=&quot;F57D_NameAndAddress&quot;> &#xD;
 &lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57D/ns3:NameAndAddress/ns3:Line&quot;> &#xD;
 &lt;xsl:value-of select=&quot;concat(text(),'\n')&quot;>&lt;/xsl:value-of>&#xD;
	&lt;/xsl:for-each>&#xD;
	 &lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,PstlAdr:0">&lt;xsl:call-template name=&quot;Address_Template&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($F57D_NameAndAddress, '\n')&quot;/>&#xD;
                &lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,[ZERO MANY]:0,ChrgsInf:0">&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F71a_2/ns3:F71F&quot;>&#xD;
	&lt;ns2:ChrgsInf>&#xD;
		&lt;ns2:Amt>&#xD;
			&lt;xsl:attribute name=&quot;Ccy&quot;>&#xD;
				&lt;xsl:value-of select=&quot;./ns3:Currency&quot;/>&#xD;
			&lt;/xsl:attribute>&#xD;
			&lt;xsl:value-of select=&quot;MTtoMXUtil:com.fiorano.funclet.MTtoMXUtil.MT_To_MXCurrencyAmount(string(./ns3:Amount))&quot;/>&#xD;
		&lt;/ns2:Amt>&#xD;
		&lt;ns2:Agt>&#xD;
			&lt;ns2:FinInstnId>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/ns2:FinInstnId>&#xD;
		&lt;/ns2:Agt>&#xD;
	&lt;/ns2:ChrgsInf>&#xD;
&lt;/xsl:for-each></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0">&lt;xsl:variable name=&quot;F52D_NameAndAddress&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F52a/ns3:F52D/ns3:NameAndAddress/ns3:Line&quot;>&#xD;
		&lt;xsl:value-of select=&quot;concat(text(),'\n')&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,DbtrAgt:0,FinInstnId:0,PstlAdr:0">&lt;xsl:call-template name=&quot;Address_Template&quot;>&#xD;
	&lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($F52D_NameAndAddress, '\n')&quot;/>&#xD;
&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt1:0,FinInstnId:0,BICFI:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(string(MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent1_BICFI(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt1:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent1_Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt2:0,FinInstnId:0,BICFI:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(string(MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent2_BICFI(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt2:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent2_Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt3:0,FinInstnId:0,BICFI:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(string(MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent3_BICFI(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,PrvsInstgAgt3:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent3_Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of>
&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT72INS_To_MXAgent_Agent3_Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,BICFI:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(string(MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2BICFI(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,ClrSysMmbId:0,ClrSysId:0,[Choice]:0,Cd:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2ClearSysCode(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2ClearSysId(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,PstlAdr:0,TwnNm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2TownName(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt2:0,FinInstnId:0,PstlAdr:0,Ctry:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent2CountryCode(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,BICFI:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateBIC11(string(MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3BICFI(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,ClrSysMmbId:0,ClrSysId:0,[Choice]:0,Cd:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3ClearSysCode(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3ClearSysId(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3Name(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,PstlAdr:0,TwnNm:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3TownName(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt3:0,FinInstnId:0,PstlAdr:0,Ctry:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;VarSeparator&quot;>
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>
&lt;/xsl:variable>

&lt;xsl:variable name=&quot;AppendedPostalAddress&quot;>
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>
		&lt;/xsl:for-each>
&lt;/xsl:variable>

   &lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXField72NewCodeWords_InterAgent3CountryCode(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Line1/ns3:Narrative),string($AppendedPostalAddress), string($LineSeparator), string($VarSeparator))&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,AppHdr:0">&lt;ns6:Fr>&#xD;
          &lt;ns6:FIId>&#xD;
            &lt;ns6:FinInstnId>&#xD;
              &lt;ns6:BICFI>&#xD;
                &lt;xsl:value-of select=&quot;$TSender&quot;>&lt;/xsl:value-of>&#xD;
              &lt;/ns6:BICFI>&#xD;
            &lt;/ns6:FinInstnId>&#xD;
          &lt;/ns6:FIId>&#xD;
        &lt;/ns6:Fr>&#xD;
        &lt;ns6:To>&#xD;
          &lt;ns6:FIId>&#xD;
            &lt;ns6:FinInstnId>&#xD;
              &lt;ns6:BICFI>&#xD;
                &lt;xsl:value-of select=&quot;$TReceiver&quot;>&lt;/xsl:value-of>&#xD;
              &lt;/ns6:BICFI>&#xD;
            &lt;/ns6:FinInstnId>&#xD;
          &lt;/ns6:FIId>&#xD;
        &lt;/ns6:To>&#xD;
        &lt;ns6:BizMsgIdr>&#xD;
          &lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F20a/ns3:F20&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/ns6:BizMsgIdr>&#xD;
        &lt;ns6:MsgDefIdr>&#xD;
          &lt;xsl:value-of select=&quot;'pacs.004.001.09'&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/ns6:MsgDefIdr>&#xD;
        &lt;ns6:CreDt>&#xD;
          &lt;xsl:value-of select=&quot;'9999-12-31T00:00:00Z'&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/ns6:CreDt>&#xD;
      &#xD;
		&lt;ns6:PssblDplct>&#xD;
          &lt;xsl:value-of select=&quot;boolean($document_IN_PORT/ns1:FinMessage/ns1:Block5/ns1:PDE)&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/ns6:PssblDplct>&#xD;
        &lt;ns6:Prty>&#xD;
          &lt;xsl:variable name=&quot;if3&quot;>&#xD;
            &lt;xsl:choose>&#xD;
              &lt;xsl:when test=&quot;(translate($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:MessagePriority,'abcdefghijklmnopqrstuvwxyz','ABCDEFGHIJKLMNOPQRSTUVWXYZ'))=('U')&quot;>&#xD;
                &lt;xsl:value-of select=&quot;'HIGH'&quot;>&lt;/xsl:value-of>&#xD;
              &lt;/xsl:when>&#xD;
              &lt;xsl:otherwise>&#xD;
                &lt;xsl:value-of select=&quot;'NORM'&quot;>&lt;/xsl:value-of>&#xD;
              &lt;/xsl:otherwise>&#xD;
            &lt;/xsl:choose>&#xD;
          &lt;/xsl:variable>&#xD;
          &lt;xsl:value-of select=&quot;$if3&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/ns6:Prty></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0">&lt;xsl:variable name=&quot;Identifier&quot;>&#xD;
 &lt;xsl:choose>&#xD;
                        &lt;xsl:when test=&quot;string-length($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:InputIdentifier)&quot;>&#xD;
                            &lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:InputIdentifier&quot;>&lt;/xsl:value-of>&#xD;
                              &lt;/xsl:when>&#xD;
							  &lt;xsl:when test=&quot;string-length($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:OutputIdentifier)&quot;>&#xD;
                            &lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:OutputIdentifier&quot;>&lt;/xsl:value-of>&#xD;
                              &lt;/xsl:when>&#xD;
                            &lt;/xsl:choose>&#xD;
                   &#xD;
 &lt;/xsl:variable>&#xD;
 &#xD;
&lt;xsl:variable name=&quot;TSender&quot;>&#xD;
&#xD;
 &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateTSenderTarget(string($Identifier),string($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:MessageInputReference/ns1:LTIdentifier),string($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:MessageInputReference/ns1:BranchCode),string($document_IN_PORT/ns1:FinMessage/ns1:Block1/ns1:LogicalTerminalAddress))&quot;>&lt;/xsl:value-of>&#xD;
 &#xD;
 &lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;TReceiver&quot;>&#xD;
 &lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.generateTReceiverTarget(string($Identifier),string($document_IN_PORT/ns1:FinMessage/ns1:Block1/ns1:LogicalTerminalAddress),string($document_IN_PORT/ns1:FinMessage/ns1:Block2/ns1:DestinationAddress))&quot;>&lt;/xsl:value-of>&#xD;
 &#xD;
 &lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0">&lt;xsl:template name=&quot;Address_Template&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;separator&quot; select=&quot;'\n'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $separator))&quot;>&#xD;
                  &lt;ns2:AdrLine>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space($text)&quot;/>&#xD;
                &lt;/ns2:AdrLine>&#xD;
            &lt;/xsl:when>&#xD;
            &lt;xsl:otherwise>&#xD;
               &lt;ns2:AdrLine>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $separator))&quot;/>&#xD;
               &lt;/ns2:AdrLine>&#xD;
                &lt;xsl:call-template name=&quot;Address_Template&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $separator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:otherwise>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&lt;xsl:template name=&quot;tokenize&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;separator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;(not(contains($text, $separator))) &quot;>&#xD;
                &lt;ns2:AdrLine>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space($text)&quot;/>&#xD;
                &lt;/ns2:AdrLine>&#xD;
				&#xD;
            &lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;((contains($text, $separator))) &quot;>&#xD;
               &lt;ns2:AdrLine>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $separator))&quot;/>&#xD;
               &lt;/ns2:AdrLine>&#xD;
                &lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $separator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
&lt;xsl:template name=&quot;tokenize2&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;separator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;(not(contains($text, $separator))) &quot;>&#xD;
                &lt;ns2:InstrInf>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space($text)&quot;/>&#xD;
                &lt;/ns2:InstrInf>&#xD;
				&#xD;
            &lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;((contains($text, $separator))) &quot;>&#xD;
               &lt;ns2:InstrInf>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $separator))&quot;/>&#xD;
               &lt;/ns2:InstrInf>&#xD;
                &lt;xsl:call-template name=&quot;tokenize2&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $separator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
&lt;xsl:template name=&quot;tokenize2A&quot;>&#xD;
&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;separator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $separator))&quot;>&#xD;
                &lt;ns2:AddtlInf>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space($text)&quot;/>&#xD;
                &lt;/ns2:AddtlInf>&#xD;
            &lt;/xsl:when>&#xD;
            &lt;xsl:otherwise>&#xD;
               &lt;ns2:AddtlInf>&#xD;
                    &lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $separator))&quot;/>&#xD;
               &lt;/ns2:AddtlInf>&#xD;
                &lt;xsl:call-template name=&quot;tokenize2A&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $separator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:otherwise>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize3&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:Othr>&#xD;
				&lt;ns2:Id>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Id>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:SchmeNm>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&lt;/ns2:SchmeNm>&#xD;
&#xD;
				&lt;xsl:variable name=&quot;Issurval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($Cdval, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Issr>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Issurval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Issr>&#xD;
                &lt;/ns2:Othr>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:Othr>&#xD;
				&lt;ns2:Id>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Id>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:SchmeNm>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&lt;/ns2:SchmeNm>&#xD;
&#xD;
				&lt;xsl:variable name=&quot;Issurval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($Cdval1, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Issr>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Issurval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Issr>&#xD;
				&lt;/ns2:Othr>&#xD;
                &lt;xsl:call-template name=&quot;tokenize3&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize4&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:InstrForCdtrAgt>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:InstrInf>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:InstrInf>&#xD;
&#xD;
                &lt;/ns2:InstrForCdtrAgt>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:InstrForCdtrAgt>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:InstrInf>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:InstrInf>&#xD;
&#xD;
				&lt;/ns2:InstrForCdtrAgt>&#xD;
                &lt;xsl:call-template name=&quot;tokenize4&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize5&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:SvcLvl>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
                &lt;/ns2:SvcLvl>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:SvcLvl>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
				&lt;/ns2:SvcLvl>&#xD;
                &lt;xsl:call-template name=&quot;tokenize5&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize6&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:LclInstrm>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
                &lt;/ns2:LclInstrm>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:LclInstrm>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
				&lt;/ns2:LclInstrm>&#xD;
                &lt;xsl:call-template name=&quot;tokenize6&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize7&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:CtgyPurp>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
                &lt;/ns2:CtgyPurp>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:CtgyPurp>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
				&lt;/ns2:CtgyPurp>&#xD;
                &lt;xsl:call-template name=&quot;tokenize7&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template>&#xD;
&#xD;
&#xD;
&#xD;
 &lt;xsl:template name=&quot;tokenize8&quot;>&#xD;
 &lt;xsl:param name=&quot;text&quot; select=&quot;.&quot;/>&#xD;
 &lt;xsl:param name=&quot;LineSeparator&quot; select=&quot;'ENDOFFLINE'&quot;/>&#xD;
 &lt;xsl:param name=&quot;VarSeparator&quot; select=&quot;'ENDOFFVAR'&quot;/>&#xD;
        &lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(string-length($text))&quot;>&#xD;
		&lt;/xsl:when>&#xD;
            &lt;xsl:when test=&quot;not(contains($text, $LineSeparator))&quot;>&#xD;
			&lt;ns2:Purp>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
                &lt;/ns2:Purp>&#xD;
            &lt;/xsl:when>&#xD;
           &lt;xsl:when test=&quot;((contains($text, $LineSeparator))) &quot;>&#xD;
              &#xD;
			  &lt;ns2:Purp>&#xD;
				&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($text, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Cd>&#xD;
				&#xD;
				&lt;xsl:variable name=&quot;Cdval1&quot;>&#xD;
				&lt;xsl:value-of select=&quot;substring-after($text, $VarSeparator)&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&#xD;
				&lt;ns2:Prtry>&#xD;
				&lt;xsl:value-of select=&quot;normalize-space(substring-before($Cdval1, $VarSeparator))&quot;/>&#xD;
				&lt;/ns2:Prtry>&#xD;
&#xD;
				&lt;/ns2:Purp>&#xD;
                &lt;xsl:call-template name=&quot;tokenize8&quot;>&#xD;
                    &lt;xsl:with-param name=&quot;text&quot; select=&quot;substring-after($text, $LineSeparator)&quot;/>&#xD;
                &lt;/xsl:call-template>&#xD;
            &lt;/xsl:when>&#xD;
        &lt;/xsl:choose>&#xD;
&lt;/xsl:template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
&lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;VarSeparator&quot;>&#xD;
	&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>&#xD;
&lt;/xsl:variable>&#xD;
&#xD;
&lt;xsl:variable name=&quot;Appended72&quot;>&#xD;
		&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F72a/ns3:F72/ns3:NarrativeStructuredFormat/ns3:Lines2to6&quot;>&#xD;
			&lt;xsl:value-of select=&quot;./ns3:Narrative1&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;./ns3:Code&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;./ns3:Narrative2&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;$VarSeparator&quot;/>&#xD;
			&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
		&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0">&lt;xsl:variable name=&quot;AppendedPostalAddress2&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5&quot;>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Number&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Details&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;xsl:variable name=&quot;if43&quot;>&#xD;
                    &lt;xsl:choose>&#xD;
                      &lt;xsl:when test=&quot;contains(.,'/ORDERRES/')&quot;>&#xD;
                        &lt;xsl:value-of select=&quot;substring(substring-after(.,'/ORDERRES/'),'1','2')&quot;>&lt;/xsl:value-of>&#xD;
                      &lt;/xsl:when>&#xD;
                    &lt;/xsl:choose>&#xD;
                  &lt;/xsl:variable>&#xD;
                  &lt;xsl:value-of select=&quot;$if43&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F77a/ns3:F77B/ns3:Narrative/ns3:Line&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;/xsl:for-each></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,Nm:0">&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_Name(string($AppendedPostalAddress1), string($LineSeparator))&quot;/></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,PstlAdr:0">&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_PostalAddress(string($AppendedPostalAddress1), string($LineSeparator))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
					&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
					&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
				&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F77a/ns3:F77B/ns3:Narrative/ns3:Line&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;xsl:variable name=&quot;if42&quot;>&#xD;
    &lt;xsl:choose>&#xD;
        &lt;xsl:when test=&quot;contains(.,'/BENEFRES/')&quot;>&#xD;
            &lt;xsl:value-of select=&quot;substring(substring-after(.,'/BENEFRES/'),'1','2')&quot;>&lt;/xsl:value-of>&#xD;
        &lt;/xsl:when>&#xD;
    &lt;/xsl:choose>&#xD;
&lt;/xsl:variable>&#xD;
&lt;xsl:value-of select=&quot;$if42&quot;>&lt;/xsl:value-of></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,CtryOfRes:0">&lt;/xsl:for-each></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrRsnInf:0,[ZERO MANY]:0,AddtlInf:0">&lt;xsl:variable name=&quot;ResultantAddtlInf&quot;>&#xD;
	&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXReturn72(string($Appended72),string('AddtlInf'),string($LineSeparator),string($VarSeparator))&quot;>&lt;/xsl:value-of>&#xD;
&lt;/xsl:variable>&#xD;
&#xD;
&#xD;
&lt;xsl:call-template name=&quot;tokenize2A&quot;>&#xD;
	&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantAddtlInf&quot;/>&#xD;
	&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrRsnInf:0,[ZERO MANY]:0,AddtlInf:0">&lt;!-- User code starts here --></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,DtAndPlcOfBirth:0">&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
				&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
			&lt;/xsl:variable>&#xD;
			&lt;xsl:variable name=&quot;AppendedPostalAddress2&quot;>&#xD;
				&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5&quot;>&#xD;
					&lt;xsl:value-of select=&quot;./ns3:Number&quot;/>&#xD;
					&lt;xsl:value-of select=&quot;./ns3:Details&quot;/>&#xD;
					&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
				&lt;/xsl:for-each>&#xD;
			&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,DtAndPlcOfBirth:0,BirthDt:0">&lt;xsl:choose>&#xD;
				&lt;xsl:when test=&quot;string-length($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5)&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFNameAndAddress_PrivateOrg_DateOfBirth(string($AppendedPostalAddress2), string($LineSeparator))&quot;/>&#xD;
				&lt;/xsl:when>&#xD;
			&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,DtAndPlcOfBirth:0,CityOfBirth:0">&lt;xsl:choose>&#xD;
				&lt;xsl:when test=&quot;string-length($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5)&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFNameAndAddressPrivateOrg_CityOfBirth(string($AppendedPostalAddress2), string($LineSeparator))&quot;/>&#xD;
				&lt;/xsl:when>&#xD;
			&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,DtAndPlcOfBirth:0,CtryOfBirth:0">&lt;xsl:choose>&#xD;
				&lt;xsl:when test=&quot;string-length($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5)&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFNameAndAddressPrivateOrg_CtryOfBirth(string($AppendedPostalAddress2), string($LineSeparator))&quot;/>&#xD;
				&lt;/xsl:when>&#xD;
			&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Agt:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0">&lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line,'//') and MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line))&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line)&quot;/>&#xD;
		&lt;/xsl:when>&#xD;
	&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Agt:0,FinInstnId:0,Nm:0">&lt;xsl:variable name=&quot;AppendedPostalAddress1&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line&quot;>&#xD;
		&lt;xsl:value-of select=&quot;.&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable>&#xD;
&#xD;
&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
&lt;/xsl:variable>&#xD;
	&lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line,'//') and not(MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line)))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Agt:0,FinInstnId:0,Nm:0">&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_Name(string($AppendedPostalAddress1), string($LineSeparator))&quot;/></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Agt:0,FinInstnId:0,PstlAdr:0">&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
				&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_PostalAddress(string($AppendedPostalAddress1), string($LineSeparator))&quot;>&lt;/xsl:value-of>				&#xD;
			&lt;/xsl:variable>&#xD;
&#xD;
&#xD;
			&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
				&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
			&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
			&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Agt:0,FinInstnId:0,PstlAdr:0">&lt;/xsl:when>&#xD;
	&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Nm:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line,'//'))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Nm:0">&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_Name(string($AppendedPostalAddress1), string($LineSeparator))&quot;/></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,PstlAdr:0">&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_PostalAddress(string($AppendedPostalAddress1), string($LineSeparator))&quot;>&lt;/xsl:value-of>				&#xD;
		&lt;/xsl:variable>&#xD;
&#xD;
&#xD;
		&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
			&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
			&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
		&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,PstlAdr:0">&lt;/xsl:when>&#xD;
&lt;/xsl:choose>&#xD;
			&lt;ns2:Nm>&#xD;
				&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFNameAndAddress_Name(string($AppendedPostalAddress2), string($LineSeparator))&quot;/>&#xD;
			&lt;/ns2:Nm>&#xD;
			&lt;ns2:PstlAdr>&#xD;
				&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFNameAndAddress_Address(string($AppendedPostalAddress2), string($LineSeparator))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
					&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
					&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
				&lt;/xsl:call-template>&#xD;
			&lt;/ns2:PstlAdr></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,IntrmyAgt1:0,FinInstnId:0,ClrSysMmbId:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56C,'//') and not(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56C,'//CH')))&quot;>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56C)&quot;>&#xD;
				&lt;ns2:ClrSysMmbId>&#xD;
					&lt;ns2:MmbId>&#xD;
						&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56C))&quot;/>&#xD;
					&lt;/ns2:MmbId>&#xD;
				&lt;/ns2:ClrSysMmbId>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:when>&#xD;
			&lt;xsl:otherwise>&#xD;
				&lt;xsl:variable name=&quot;F56CNmAddr&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingSystemToNameAndAddressLine(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F56a/ns3:F56C))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;$F56CNmAddr&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;$F56CNmAddr&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:otherwise>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,Nm:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;(boolean($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B) and (not(boolean($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:PartyIdentifier)) or not(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:PartyIdentifier,'//')) or starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:PartyIdentifier,'//CH')) and boolean($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location))&quot;>&#xD;
		&lt;ns2:Nm>&#xD;
			&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
		&lt;/ns2:Nm>&#xD;
		&lt;ns2:PstlAdr>&#xD;
			&lt;ns2:AdrLine>&#xD;
				&lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location&quot;/>&#xD;
			&lt;/ns2:AdrLine>&#xD;
		&lt;/ns2:PstlAdr>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,CdtrAgt:0,FinInstnId:0,ClrSysMmbId:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B,'//') and not(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:PartyIdentifier,'//CH')))&quot;>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B)&quot;>&#xD;
				&lt;ns2:ClrSysMmbId>&#xD;
					&lt;ns2:MmbId>&#xD;
						&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B))&quot;/>&#xD;
					&lt;/ns2:MmbId>&#xD;
				&lt;/ns2:ClrSysMmbId>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;xsl:choose>&#xD;
						&lt;xsl:when test=&quot;boolean($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location)&quot;>&#xD;
							&lt;ns2:AdrLine>&#xD;
								&lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location&quot;/>&#xD;
							&lt;/ns2:AdrLine>&#xD;
						&lt;/xsl:when>&#xD;
						&lt;xsl:otherwise>&#xD;
							&lt;ns2:AdrLine>&#xD;
								&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
							&lt;/ns2:AdrLine>&#xD;
						&lt;/xsl:otherwise>&#xD;
					&lt;/xsl:choose>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:when>&#xD;
			&lt;xsl:otherwise>&#xD;
				&lt;xsl:variable name=&quot;F57BNmAddr&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingSystemToNameAndAddressLine(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;$F57BNmAddr&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;$F57BNmAddr&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
					&lt;xsl:choose>&#xD;
						&lt;xsl:when test=&quot;boolean($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location)&quot;>&#xD;
							&lt;ns2:AdrLine>&#xD;
								&lt;xsl:value-of select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57B/ns3:Location&quot;/>&#xD;
							&lt;/ns2:AdrLine>&#xD;
						&lt;/xsl:when>&#xD;
					&lt;/xsl:choose>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:otherwise>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose>&#xD;
&#xD;
&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57C,'//') and not(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57C,'//CH')))&quot;>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57C)&quot;>&#xD;
				&lt;ns2:ClrSysMmbId>&#xD;
					&lt;ns2:MmbId>&#xD;
						&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57C))&quot;/>&#xD;
					&lt;/ns2:MmbId>&#xD;
				&lt;/ns2:ClrSysMmbId>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:when>&#xD;
			&lt;xsl:otherwise>&#xD;
				&lt;xsl:variable name=&quot;F57CNmAddr&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingSystemToNameAndAddressLine(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F57a/ns3:F57C))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;ns2:Nm>&#xD;
					&lt;xsl:value-of select=&quot;$F57CNmAddr&quot;/>&#xD;
				&lt;/ns2:Nm>&#xD;
				&lt;ns2:PstlAdr>&#xD;
					&lt;ns2:AdrLine>&#xD;
						&lt;xsl:value-of select=&quot;$F57CNmAddr&quot;/>&#xD;
					&lt;/ns2:AdrLine>&#xD;
				&lt;/ns2:PstlAdr>&#xD;
			&lt;/xsl:otherwise>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0">&lt;xsl:variable name=&quot;AppendedPostalAddress2&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59F/ns3:NumberNameAndAddressDetails&quot;>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Number&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Details&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,Nm:0">&lt;xsl:choose>&#xD;
		&lt;xsl:when test=&quot;not(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line,'//'))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,PstlAdr:0">&lt;/xsl:when>&#xD;
	&lt;/xsl:choose>&#xD;
&#xD;
&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59F/ns3:NumberNameAndAddressDetails)))&quot;>&#xD;
		&lt;ns2:Nm>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndStructuredAddress_Name(string($AppendedPostalAddress59F), string($LineSeparator))&quot;/>&#xD;
		&lt;/ns2:Nm>&#xD;
		&lt;ns2:PstlAdr>&#xD;
			&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
				&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndStructuredAddress_PostalAddress(string($AppendedPostalAddress59F), string($LineSeparator))&quot;/>&#xD;
			&lt;/xsl:variable>&#xD;
			&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
				&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
				&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
			&lt;/xsl:call-template>&#xD;
		&lt;/ns2:PstlAdr>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0">&lt;xsl:variable name=&quot;AppendedPostalAddress1&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line&quot;>&#xD;
		&lt;xsl:value-of select=&quot;.&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
&lt;/xsl:variable>&#xD;
&lt;xsl:variable name=&quot;AppendedPostalAddress59F&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59F/ns3:NumberNameAndAddressDetails&quot;>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Number&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;./ns3:Details&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Agt:0,FinInstnId:0,Nm:0">&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line,'//') and not(MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line)))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Agt:0,FinInstnId:0,Nm:0">&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_Name(string($AppendedPostalAddress1), string($LineSeparator))&quot;/></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Agt:0,FinInstnId:0,PstlAdr:0">&lt;xsl:variable name=&quot;ResultantPostalAddress&quot;>&#xD;
						&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXPartyNameAndAddress_PostalAddress(string($AppendedPostalAddress1), string($LineSeparator))&quot;/>&#xD;
					&lt;/xsl:variable>&#xD;
					&lt;xsl:call-template name=&quot;tokenize&quot;>&#xD;
						&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantPostalAddress&quot;/>&#xD;
						&lt;xsl:with-param name=&quot;separator&quot; select=&quot;$LineSeparator&quot;/>&#xD;
					&lt;/xsl:call-template></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Agt:0,FinInstnId:0,PstlAdr:0">&lt;/xsl:when>&#xD;
		&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Agt:0,FinInstnId:0,ClrSysMmbId:0,MmbId:0">&lt;xsl:choose>&#xD;
					&lt;xsl:when test=&quot;(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line,'//') and MT2MX:com.fiorano.funclet.MTtoMX.IsMTClearingSystemCodeInList($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line))&quot;>&#xD;
						&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXClearingIdentifier($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line)&quot;/>&#xD;
					&lt;/xsl:when>&#xD;
				&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Cdtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,[ZERO MANY]:0,Othr:0,Id:0">&lt;!-- Commenting logic to meet portal needs&#xD;
&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59)))&quot;>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;not(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F59a/ns3:F59/ns3:NameAndAddress/ns3:Line,'//'))&quot;>&#xD;
				&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
			&lt;/xsl:when>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose> --></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,[ZERO MANY]:0,ChrgsInf:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F71a_2/ns3:F71F)) and MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F71a_3/ns3:F71G)))&quot;>&#xD;
		&lt;xsl:variable name=&quot;Charge72&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MX_Field72_NarrativeExtractor_MT103REJTtoPACS002(string($Appended72),string('CHGS'),string($LineSeparator),string($VarSeparator))&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;(string-length($Charge72)&amp;gt;('3'))&quot;>&#xD;
				&lt;ns2:ChrgsInf>&#xD;
					&lt;ns2:Amt>&#xD;
						&lt;xsl:attribute name=&quot;Ccy&quot;>&#xD;
							&lt;xsl:value-of select=&quot;substring($Charge72,'1','3')&quot;/>&#xD;
						&lt;/xsl:attribute>&#xD;
						&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.mt2MXAmount(string(substring($Charge72,'4')))&quot;/>&#xD;
					&lt;/ns2:Amt>&#xD;
					&lt;ns2:Nm>&#xD;
						&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
					&lt;/ns2:Nm>&#xD;
					&lt;ns2:PstlAdr>&#xD;
						&lt;ns2:AdrLine>&#xD;
							&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
						&lt;/ns2:AdrLine>&#xD;
					&lt;/ns2:PstlAdr>&#xD;
				&lt;/ns2:ChrgsInf>&#xD;
			&lt;/xsl:when>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0">&lt;xsl:variable name=&quot;Appended70&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F70a/ns3:F70/ns3:Narrative/ns3:Line&quot;>&#xD;
		&lt;xsl:value-of select=&quot;.&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0">&lt;xsl:variable name=&quot;MX_BIC&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(string($AppendedUltmtDbtr),string('MXBIC'))&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($MX_BIC)))&quot;>&#xD;
				&lt;ns2:Id>&#xD;
					&lt;ns2:OrgId>&#xD;
						&lt;ns2:AnyBIC>&#xD;
							&lt;xsl:value-of select=&quot;$MX_BIC&quot;/>&#xD;
						&lt;/ns2:AnyBIC>&#xD;
					&lt;/ns2:OrgId>&#xD;
				&lt;/ns2:Id>&#xD;
			&lt;/xsl:when>&#xD;
			&lt;xsl:otherwise></mappermodel:UserXSL>
  <mappermodel:UserXSL index="2" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0,[Choice]:0,Pty:0">&lt;/xsl:otherwise>&#xD;
		&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0">&lt;xsl:variable name=&quot;AppendedUltmtDbtr&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty(string($Appended70),string('UltmtDbtr'))&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($AppendedUltmtDbtr)))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtDbtr:0">&lt;/xsl:when>&#xD;
		&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0">&lt;xsl:variable name=&quot;AppendedUltmtCdtr&quot;>&#xD;
			&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty(string($Appended70),string('UltmtCdtr'))&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($AppendedUltmtCdtr)))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0">&lt;/xsl:when>&#xD;
		&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0">&lt;xsl:variable name=&quot;MX_BIC&quot;>&#xD;
					&lt;xsl:value-of select=&quot;MT2MX:com.fiorano.funclet.MTtoMX.MT_To_MXUltimateParty_ReturnSpecific(string($AppendedUltmtCdtr),string('MXBIC'))&quot;/>&#xD;
				&lt;/xsl:variable>&#xD;
				&lt;xsl:choose>&#xD;
					&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($MX_BIC)))&quot;>&#xD;
						&lt;ns2:Id>&#xD;
							&lt;ns2:OrgId>&#xD;
								&lt;ns2:AnyBIC>&#xD;
									&lt;xsl:value-of select=&quot;$MX_BIC&quot;/>&#xD;
								&lt;/ns2:AnyBIC>&#xD;
							&lt;/ns2:OrgId>&#xD;
						&lt;/ns2:Id>&#xD;
					&lt;/xsl:when>&#xD;
					&lt;xsl:otherwise></mappermodel:UserXSL>
  <mappermodel:UserXSL index="2" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,UltmtCdtr:0,[Choice]:0,Pty:0">&lt;/xsl:otherwise>&#xD;
				&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="3" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,SttlmInf:0">&lt;/xsl:when>&#xD;
			&lt;!-- User code&#xD;
			&lt;xsl:otherwise>&#xD;
				Handle T20008&#xD;
			&lt;/xsl:otherwise>&#xD;
			ends here -->&#xD;
		&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,GrpHdr:0,SttlmInf:0">&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F55a))&quot;></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,OrgId:0,[ZERO MANY]:0,Othr:0">&lt;!-- Commenting logic to meet portal needs&#xD;
&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50A)))&quot;>&#xD;
		&lt;ns2:Id>&#xD;
			&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
		&lt;/ns2:Id>&#xD;
		&lt;ns2:SchmeNm>&#xD;
			&lt;ns2:Cd>&#xD;
				&lt;xsl:value-of select=&quot;'TXID'&quot;/>&#xD;
			&lt;/ns2:Cd>&#xD;
		&lt;/ns2:SchmeNm>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose>&#xD;
&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(MT2MX:com.fiorano.funclet.MTtoMX.isInputNullorBlank(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K)))&quot;>&#xD;
		&lt;xsl:choose>&#xD;
			&lt;xsl:when test=&quot;not(($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:Account)=('/NOTPROVIDED') and starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line,'//'))&quot;>&#xD;
				&lt;ns2:Id>&#xD;
					&lt;xsl:value-of select=&quot;'NOTPROVIDED'&quot;/>&#xD;
				&lt;/ns2:Id>&#xD;
				&lt;ns2:SchmeNm>&#xD;
					&lt;ns2:Cd>&#xD;
						&lt;xsl:value-of select=&quot;'TXID'&quot;/>&#xD;
					&lt;/ns2:Cd>&#xD;
				&lt;/ns2:SchmeNm>&#xD;
			&lt;/xsl:when>&#xD;
		&lt;/xsl:choose>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose> --></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0">&lt;xsl:variable name=&quot;AppendedPostalAddress1&quot;>&#xD;
	&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50K/ns3:NameAndAddress/ns3:Line&quot;>&#xD;
		&lt;xsl:value-of select=&quot;.&quot;/>&#xD;
		&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
	&lt;/xsl:for-each>&#xD;
&lt;/xsl:variable>&#xD;
&#xD;
&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
	&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
&lt;/xsl:variable></mappermodel:UserXSL>
  <mappermodel:UserXSL index="0" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,[ZERO MANY]:0,Othr:0">&lt;xsl:choose>&#xD;
	&lt;xsl:when test=&quot;not(starts-with($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:PartyIdentifier,'/'))&quot;>&#xD;
		&lt;xsl:variable name=&quot;LineSeparator&quot;>&#xD;
			&lt;xsl:value-of select=&quot;'ENDOFFLINE'&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:variable name=&quot;VarSeparator&quot;>&#xD;
			&lt;xsl:value-of select=&quot;'ENDOFFVAR'&quot;/>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:variable name=&quot;AppendedPostalAddress2&quot;>&#xD;
			&lt;xsl:for-each select=&quot;$document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5&quot;>&#xD;
				&lt;xsl:value-of select=&quot;./ns3:Number&quot;/>&#xD;
				&lt;xsl:value-of select=&quot;./ns3:Details&quot;/>&#xD;
				&lt;xsl:value-of select=&quot;$LineSeparator&quot;/>&#xD;
			&lt;/xsl:for-each>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:variable name=&quot;ResultantAddress&quot;>&#xD;
			&lt;xsl:choose>&#xD;
				&lt;xsl:when test=&quot;((string-length($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:NameAndAddress/ns3:Lines2to5)) or (string-length($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:PartyIdentifier/ns3:Code))) &quot;>&#xD;
					&lt;xsl:value-of select=&quot;MTtoMX:com.fiorano.funclet.MTtoMX.MT_To_MXFATFIdentification_PrivateOrgTable(string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:PartyIdentifier/ns3:Code),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:PartyIdentifier/ns3:CountryCode),string($document_IN_PORT/ns1:FinMessage/ns1:Block4/ns3:Document/ns3:MT103/ns3:F50a/ns3:F50F/ns3:PartyIdentifier/ns3:Identifier),string($AppendedPostalAddress2), string($LineSeparator),string($VarSeparator))&quot;/>&#xD;
				&lt;/xsl:when>&#xD;
			&lt;/xsl:choose>&#xD;
		&lt;/xsl:variable>&#xD;
		&lt;xsl:call-template name=&quot;tokenize3&quot;>&#xD;
			&lt;xsl:with-param name=&quot;text&quot; select=&quot;$ResultantAddress&quot;/>&#xD;
		&lt;/xsl:call-template>&#xD;
	&lt;/xsl:when>&#xD;
&lt;/xsl:choose></mappermodel:UserXSL>
  <mappermodel:UserXSL index="1" node="Output1:0,Envelope:0,Document:0,PmtRtr:0,TxInf:0,RtrChain:0,Dbtr:0,[Choice]:0,Pty:0,Id:0,[Choice]:0,PrvtId:0,[ZERO MANY]:0,Othr:0">&lt;!-- User code starts here --></mappermodel:UserXSL>
</mappermodel:MapperProject>